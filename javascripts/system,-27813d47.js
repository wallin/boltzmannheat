(function(){angular.module("bm.system",["bm.distribution"]).service("System",["$rootScope","Distribution",function(t,e){var n,s;return s=[],n=function(){function n(){this.name="System "+"ABCD".charAt(s.length),this.params={numParticles:1,eLevelType:this.options.eLevelTypes[0],eDist:10,numSubLevels:5,subEDist:10,temperature:103},this.update()}return n.prototype.options={eLevelTypes:[{name:"Equidistant",value:"equidistant"},{name:"Sublevels",value:"sublevels"},{name:"Rotational",value:"rotational"}]},n.prototype.update=function(){return this.result=e.boltzmann(this.params),t.$broadcast("system.update")},n}(),{create:function(){var t;return t=new n,s.push(t),t},all:s}}]).controller("SystemCtrl",["$scope","System",function(t,e){return t.data=[],t.system=e.create(),t.plotOptions={relative:!1,eLevels:!0,xmax:1,ymax:200},t.$watch("system.params",function(){return t.system.update()},!0)}]).controller("HeatFlowCtrl",["$scope","System",function(t,e){var n;return n=function(){return t.total=e.all.reduce(function(t,e){return t.result.entropyTotal+e.result.entropyTotal})},t.$on("system.update",n)}])}).call(this);